<app-menu></app-menu>
<div>
  <div *ngIf="request">
    <span class="display-4">Requestline List</span>
    <span *ngIf="logUa || request.userId == logU.id" class="h1"> | <a routerLink="/requestline/create/{{request.id}}">Create</a></span>
  </div>
  <table *ngIf="request" class="table table-hover table-bordered table-responsive">
    <thead>
      <tr>
        <th scope="col">Description: </th>
        <th scope="col">Status: </th>
        <th scope="col">Total: </th>
        <th scope="col">User: </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngIf="request">
        <td>{{request.description}}</td>
        <td>{{request.status}}</td>
        <td>${{request.total}}</td>
        <td>{{request.user.username}}</td>
      </tr>
    </tbody>
  </table>
  <table *ngIf="request" class="table table-hover table-bordered table-responsive">
    <tr>
      <th>Product: </th>
      <th>Quantity: </th>
      <th>Price: </th>
      <th>Line Total: </th>
      <th *ngIf="logUa || request.userId == logU.id">Actions: </th>
    </tr>
    <tr *ngFor="let line of request.requestLines">
      <td>{{ line.product.name }}</td>
      <td>{{ line.quantity }}</td>
      <td>{{ line.product.price | currency  }}</td>
      <td>{{ line.product.price*line.quantity | currency }}</td>
      <td *ngIf="logUa || request.userId == logU.id">
        <span><a routerLink="/requestline/edit/{{line.id}}"><button class="btn btn-primary">Edit</button></a> | </span>
        <!-- <a routerLink="/requestline/edit/{{line.id}}">Edit</a> | -->
        <!-- <span><button (click)="delete(line)" class="btn btn-danger">Delete</button></span> -->

        <!-- <span *ngIf="verifyN"><button (click)="setVerify()" class="btn btn-warning">Delete</button></span>
        <span *ngIf="verify"><button (click)="setVerifyN()" class="btn btn-warning">Cancel Delete</button> | </span>
        <span *ngIf="verify"><button (click)="delete(line)" class="btn btn-danger">Verify Delete</button></span> -->
        <span><button (click)="delete(line)" class="btn btn-danger">Delete</button></span>
      </td>
    </tr>
  </table>
</div>